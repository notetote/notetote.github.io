function clearSecond(){document.querySelector("secondary toggle").innerHTML="",document.querySelector("secondary keyring").innerHTML="",clearFilter()}function focusPrimary(){document.querySelector("primary").classList.remove("shide"),setTimeout(function(){document.querySelector("primary").classList.remove("secondary"),document.querySelector("secondary").classList.remove("secondary"),document.querySelector("primary").classList.add("primary"),document.querySelector("secondary").classList.add("primary")},100),document.querySelector("titlecard").innerText="Search",document.title=sKey+" at NoteNibba",setTimeout(function(){document.querySelector("secondary").classList.add("hide"),clearSecond(),sessionStorage.removeItem("primeNow"),selectRemove()},300)}function focusSecondary(){document.querySelector("secondary").classList.remove("hide"),setTimeout(function(){document.querySelector("primary").classList.remove("primary"),document.querySelector("secondary").classList.remove("primary"),document.querySelector("primary").classList.add("secondary"),document.querySelector("secondary").classList.add("secondary")},100),document.querySelector("titlecard").innerText=document.querySelector("primary a.active info topic").innerText,document.title=document.querySelector("titlecard").innerText+" at NoteNibba",setTimeout(function(){document.querySelector("primary").classList.add("shide")},300)}function selectRemove(){try{document.querySelector("primary a.active").classList.remove("active")}catch(e){}try{document.querySelector("primary panel.show").classList.remove("show")}catch(e){}}function primeClick(e,t){return sessionStorage.getItem("primeNow")!=e&&(scrollUp(),document.querySelector("titlecard").innerText="Search",document.title=sKey+" at NoteNibba",sessionStorage.setItem("primeNow",e),selectRemove(),t.classList.add("active"),t.children[1].classList.add("show"),clearSecond(),secondFetch(e),!1)}async function secondFetch(e){const t=window.location.origin+"/json/";let o=t+e+".json",r=await fetch(o),c=await r.json();secondList(c),focusSecondary()}function secondList(e){function t(e){c?c+=e:c=e}function o(e){n?n+=e:n=e}function r(e,o,r,c){let n="",i="";"yes"==r&&(s++,n=" fi-star",i='<panel class="flex flex-row flex-center-h flex-center-v"><i class="fa fa-star mid"></i></panel>'),t(`<a href="${o}" target="_blank" class="flex flex-row flex-center-v ${c+n}"><info class="flex flex-column full-width"><name class="text-trim">${e}</name><dest class="text-trim">${o}</dest></info>${i}</a>`)}let c,n,s=0;const i='<keynote class="flex flex-row flex-center-v flex-space-between fi-',a='"><name>',l='</name><i class="fa fa-',d=' mid"></i></keynote>',u=e.links.note,m=e.links.vid,y=e.links.sub,f=e.links.down,$='" onclick="',S="filter('",h='<tog class="',v='<tog onclick="',p="',this)\">",w='<i class="fa fa-',g=' big"></i></tog>';if(t(`${i}star`),t(`${a}Starred`),t(`${l}star`),t(`${d}`),o(`${h}active${$+S}clear${p+w}all${g}`),u.length>0){t(`${i}note`),t(`${a}Notes`),t(`${l}notes`),t(`${d}`),o(`${v+S}fi-note${p+w}notes${g}`);for(let e=0;e<u.length;e++)r(u[e].txt,u[e].url,u[e].hit,"fi-note")}if(m.length>0){t(`${i}vid`),t(`${a}Videos`),t(`${l}videos`),t(`${d}`),o(`${v+S}fi-vid${p+w}videos${g}`);for(let e=0;e<m.length;e++)r(m[e].txt,m[e].url,m[e].hit,"fi-vid")}if(y.length>0){t(`${i}sub`),t(`${a}Submissions`),t(`${l}internal`),t(`${d}`),o(`${v+S}fi-sub${p+w}internal${g}`);for(let e=0;e<y.length;e++)r(y[e].txt,y[e].url,y[e].hit,"fi-sub")}if(f.length>0){t(`${i}down`),t(`${a}Downloads`),t(`${l}download`),t(`${d}`),o(`${v+S}fi-down${p+w}download${g}`);for(let e=0;e<f.length;e++)r(f[e].txt,f[e].url,f[e].hit,"fi-down")}s>0&&o(`${v+S}fi-star${p+w}star${g}`),o(`${h}round${$}focusPrimary()">${w}arrow${g}`),document.querySelector("secondary keyring").innerHTML=c,document.querySelector("secondary toggle").innerHTML=n;try{document.querySelector("primary panel.show").classList.remove("show")}catch(e){}}